<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Google Form + Popup</title>

  <!-- SweetAlert2 CDN -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
  <h2>Form Pendaftaran</h2>

  <iframe id="gform"
    src="https://docs.google.com/forms/d/e/1FAIpQLSf-hXXqlQ3UUaT0Qw75aIrK6AdHMQha5m5QaAEX8Gy-uPWEig/viewform?embedded=true">
  </iframe>

  <!-- SCRIPT TARUH DI SINI -->
  <script>
    const iframe = document.getElementById("gform");

    const observer = new MutationObserver(() => {
      try {
        const currentURL = iframe.contentWindow.location.href;

        if (currentURL.includes("formResponse")) {
          Swal.fire({
            title: "Terima kasih!",
            text: "Form berhasil dikirim ðŸ˜„",
            icon: "success",
            confirmButtonText: "Oke"
          });
        }
      } catch (e) {
        // Abaikan CORS error
      }
    });

    observer.observe(iframe, { attributes: true, subtree: true });
  </script>

</body>
</html>
